# ai-tutor-module
---

## Назначение

**AI Tutor Module** — встраиваемый React-модуль с AI-ассистентом для образовательной платформы совместного обучения.

Модуль реализует чат с AI, поддержку нескольких диалогов, потоковые ответы и адаптивный интерфейс для desktop и mobile.

---

## Установка

```bash
npm install ai-tutor-module
````

---

## Использование

```tsx
import AiTutorModule from "ai-tutor-module";

function App() {
  return <AiTutorModule />;
}
```

Модуль предназначен для использования **внутри платформы** и **не является standalone-приложением**.

---

## Возможности

* чат пользователя с AI-ассистентом;
* несколько чатов;
* потоковые (streaming) ответы AI;
* редактирование сообщений с получением нового ответа;
* панель учебных материалов;
* мобильная и десктопная версии;
* сбор агрегированной статистики использования.

---

## Требования к платформе

### Контекст виджета

Платформа должна передать модулю данные при создании виджета:

```json
{
  "widgetId": number,
  "userId": number,
  "role": string,
  "config": object,
  "board": {
    "id": number,
    "name": string,
    "parentId": number
  }
}
```

Эти данные используются модулем для работы с backend и сбора статистики.

---

## Backend API

Модуль ожидает наличие backend API со следующей функциональностью:

* авторизация через **Bearer Token**;
* управление чатами (создание / удаление / список);
* отправка сообщений с потоковым (streaming) ответом;
* получение истории чата;
* редактирование сообщений пользователя с переответом AI.

---

## Streaming-ответы

Ответ AI должен передаваться как:

* `chunked` HTTP response;
* `plain text`;
* с маркером завершения:

```
[DONE]
```

Модуль отображает ответ по мере получения чанков.

---

## Ответственность сторон

### Модуль

* UI / UX;
* управление состоянием;
* потоковый вывод ответов;
* мобильная адаптация;
* отправка агрегированной статистики.

### Backend

* AI-логика;
* хранение истории;
* streaming API;
* авторизация.

### Платформа

* встраивание модуля;
* передача контекста;
* прокидывание авторизации;
* управление жизненным циклом виджета.
